(this.webpackJsonpreversi=this.webpackJsonpreversi||[]).push([[0],{1:function(e,t,n){e.exports={status:"Status_status__GrbJO",diskCount:"Status_diskCount__3B7VV",white:"Status_white__2zZYD",black:"Status_black__32MOu"}},18:function(e,t,n){e.exports=n(31)},23:function(e,t,n){},24:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a,i=n(0),r=n.n(i),l=n(10),c=n.n(l),u=(n(23),n(24),n(4)),o=n.n(u);!function(e){e[e.White=0]="White",e[e.Black=1]="Black"}(a||(a={}));var s=n(8),d=n(17),f=n(5),k=8,m=k,v=function(e,t){return e+m*t},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!==t?e.filter((function(e){return e===t})).length:e.filter((function(e){return null!==e})).length},b=k,p=[{disk:a.Black},{disk:a.White}],E=function(){var e=Array(b*b).fill(null);return B(e,a.White,[b/2-1,b/2-1]),B(e,a.White,[b/2,b/2]),B(e,a.Black,[b/2-1,b/2]),B(e,a.Black,[b/2,b/2-1]),e},B=function(e,t,n){var a=Object(f.a)(n,2),i=a[0],r=a[1];e[v(i,r)]=t},O=function(e,t,n){for(var a=function(t,n){if(t<0||n<0||t>=b||n>=b)return null;var a=v(t,n);return e[a]},i=[],r=function(e,n){for(var i=Object(f.a)(e,2),r=i[0],l=i[1],c=Object(f.a)(n,2),u=c[0],o=c[1],s=[];;)if(a(r+=u,l+=o)===t||null===a(r,l)){if(a(r,l)===t)break;if(null===a(r,l)){s=[];break}}else s=[].concat(Object(d.a)(s),[[r,l]]);return s},l=0,c=[[1,0],[-1,0],[0,1],[0,-1],[1,1],[-1,-1],[1,-1],[-1,1]];l<c.length;l++){var u=c[l];i.push(r(n,u))}return i},j=function(e,t,n){return O(e,t,n).some((function(e){return e.length>0}))},W=function(e,t){for(var n=function(t,n){if(t<0||n<0||t>=b||n>=b)return null;var a=v(t,n);return e[a]},a=[],i=0;i<b;i++)for(var r=0;r<b;r++)null===n(i,r)&&j(e,t,[i,r])&&a.push([i,r]);return a},_={disks:E(),puttablePositions:[{disk:a.White,value:W(E(),a.White)},{disk:a.Black,value:W(E(),a.Black)}]},w=Object(s.b)({name:"board",initialState:_,reducers:{putDisk:function(e,t){var n=t.payload,i=n.disk,r=n.position,l=e.disks;B(l,i,r),O(l,i,r).forEach((function(e){return e.forEach((function(e){return function(e,t){var n=Object(f.a)(t,2),i=n[0],r=n[1],l=v(i,r),c=e[l];null!==c&&(e[l]=c===a.White?a.Black:a.White)}(l,e)}))})),e.puttablePositions=[{disk:a.White,value:W(l,a.White)},{disk:a.Black,value:W(l,a.Black)}]}}}),N=w.actions.putDisk,g=function(e){return e.board},y=w.reducer,x=n(2),P=n(6),S=n.n(P),C={step:1,nextPlayer:p[0],winner:null},D=Object(s.b)({name:"status",initialState:C,reducers:{nextTurn:function(e){var t=e.step;e.nextPlayer=p[(t+1)%2===0?1:0],e.step=t+1},finishGame:function(e,t){var n=h(t.payload,a.White),i=h(t.payload,a.Black);n>i?e.winner=p.find((function(e){return e.disk===a.White}))||null:n<i&&(e.winner=p.find((function(e){return e.disk===a.Black}))||null),e.nextPlayer=null}}}),G=D.actions,J=G.nextTurn,A=G.finishGame,M=function(e){return e.status},T=D.reducer,z=function(e){var t=e.disk,n=e.position,i=e.onClick;return t===a.White?r.a.createElement("div",{className:o()(S.a.cell,S.a.white)},"\u25cf"):t===a.Black?r.a.createElement("div",{className:o()(S.a.cell,S.a.black)},"\u25cf"):r.a.createElement("div",{className:S.a.cell},r.a.createElement("button",{onClick:function(){return i(n)}}))},V=function(e){var t=e.putDisk,n=Object(x.c)(g),a=n.disks,i=n.puttablePositions,l=Object(x.c)(M).nextPlayer,c=function(e){var n,a=(null===(n=i.find((function(e){return e.disk===(null===l||void 0===l?void 0:l.disk)})))||void 0===n?void 0:n.value)||[];null!==l&&function(e,t){var n=Object(f.a)(e,2),a=n[0],i=n[1];return t.some((function(e){return a===e[0]&&i===e[1]}))}(e,a)&&t(e)};return r.a.createElement("div",null,r.a.createElement("div",{className:S.a.board},a.map((function(e,t){return r.a.createElement(z,{key:t,disk:e,position:(n=t,[n%m,Math.floor(n/m)]),onClick:function(e){return c(e)}});var n}))))},F=n(7),H=n(1),I=n.n(H),R=function(){var e=Object(x.c)(M),t=e.step,n=e.nextPlayer,i=e.winner,l=Object(x.c)(g).disks;return r.a.createElement("div",{className:I.a.status},r.a.createElement("ul",null,r.a.createElement("li",{className:I.a.item},"Step: #".concat(t)),n?r.a.createElement("li",{className:I.a.item},function(e){var t;return r.a.createElement("div",null,"Next: ",r.a.createElement("span",{className:o()((t={},Object(F.a)(t,I.a.white,e.disk===a.White),Object(F.a)(t,I.a.black,e.disk===a.Black),t))},"\u25cf"))}(n)):i?r.a.createElement("li",{className:I.a.item},function(e){var t;return r.a.createElement("div",null,r.a.createElement("span",{className:o()((t={},Object(F.a)(t,I.a.white,e.disk===a.White),Object(F.a)(t,I.a.black,e.disk===a.Black),t))},"\u25cf")," won")}(i)):r.a.createElement("li",{className:I.a.item},"Tied"),r.a.createElement("li",{className:I.a.item},[a.Black,a.White].map((function(e){return function(e,t){var n;return r.a.createElement("div",{key:e===a.White?"white":"black",className:I.a.diskCount},r.a.createElement("span",{className:o()((n={},Object(F.a)(n,I.a.white,e===a.White),Object(F.a)(n,I.a.black,e===a.Black),n))},"\u25cf"),r.a.createElement("span",null,": ".concat(t)))}(e,h(l,e))})))))},X=function(){var e=Object(x.c)(M),t=e.step,n=e.nextPlayer,l=Object(x.c)(g),c=l.disks,u=l.puttablePositions,o=Object(x.b)();Object(i.useEffect)((function(){n&&(!function(){var e,t;return!(null===(e=u.find((function(e){return e.disk===a.White})))||void 0===e?void 0:e.value.length)&&!(null===(t=u.find((function(e){return e.disk===a.Black})))||void 0===t?void 0:t.value.length)}()?function(e){var t;return!!(null===(t=u.find((function(t){return t.disk===e})))||void 0===t?void 0:t.value.length)}(n.disk)||(console.log("".concat(n.disk===a.White?"White":"Black"," passed.")),o(J())):(console.log("game..."),o(A(c))))}),[t,o]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(V,{putDisk:function(e){n&&(o(N({disk:n.disk,position:e})),o(J()))}}),r.a.createElement(R,null))},Y=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Reversi")),r.a.createElement(X,null))},Z=Object(s.a)({reducer:{board:y,status:T}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x.a,{store:Z},r.a.createElement(Y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,t,n){e.exports={board:"Board_board__2NjSw",cell:"Board_cell__3urXG",white:"Board_white__2ataP",black:"Board_black__H1zmJ"}}},[[18,1,2]]]);
//# sourceMappingURL=main.d2337ee9.chunk.js.map